name = "LeanCert"
version = "0.1.0"
defaultTargets = ["leancert"]

[[require]]
name = "mathlib"
git = "https://github.com/leanprover-community/mathlib4.git"
rev = "v4.28.0"

[[lean_lib]]
name = "LeanCert"
precompileModules = false
# Note: Downstream projects importing LeanCert.Examples.Li2Bounds get fast builds (~3s).
# Li2Verified (~20min) is only built if explicitly imported or requested.

# Examples and tests - not part of default build
# Build with: lake build examples
[[lean_lib]]
name = "examples"
roots = ["LeanCert.Examples"]
precompileModules = false

# Heavy numerical verification - for CI validation
# Build explicitly with: lake build Li2Verified
[[lean_lib]]
name = "Li2Verified"
roots = ["LeanCert.Examples.Li2Verified"]
precompileModules = false

# Heavy BKLNW a2 bounds verification - for CI validation
# Build explicitly with: lake build BKLNW_a2_reflective
[[lean_lib]]
name = "BKLNW_a2_reflective"
roots = ["LeanCert.Examples.BKLNW_a2_reflective"]
precompileModules = false

# Chebyshev psi smoke test (native_decide)
# Build explicitly with: lake build ChebyshevPsiTest
[[lean_lib]]
name = "ChebyshevPsiTest"
roots = ["LeanCert.Test.ChebyshevPsi"]
precompileModules = false

# Chebyshev theta smoke test (native_decide)
# Build explicitly with: lake build ChebyshevThetaTest
[[lean_lib]]
name = "ChebyshevThetaTest"
roots = ["LeanCert.Test.ChebyshevTheta"]
precompileModules = false

[[lean_exe]]
name = "leancert"
root = "Main"

[[lean_exe]]
name = "lean_bridge"
root = "LeanCert.Bridge"

[[lean_exe]]
name = "check-compat"
root = "LeanCert.CheckCompat"
